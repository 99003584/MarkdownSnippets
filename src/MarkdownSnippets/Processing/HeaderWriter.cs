static class HeaderWriter
{
    internal const string DefaultHeader = @"GENERATED FILE - DO NOT EDIT
This file was generated by [MarkdownSnippets](https://github.com/SimonCropp/MarkdownSnippets).
Source File: {relativePath}
To change this file edit the source file and then run MarkdownSnippets.";

    public static string WriteHeader(string relativePath, string header)
    {
        return $@"<!--
{GetInner(relativePath, header)}
-->
";
    }

    static string GetInner(string relativePath, string header)
    {
        if (header == null)
        {
            return DefaultHeader.Replace("{relativePath}", relativePath);
        }

        return header.Replace("{relativePath}", relativePath);
    }
}